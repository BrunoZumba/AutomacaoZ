pi@raspberrypi:~ $ sudo apt-get update
pi@raspberrypi:~ $ sudo apt-get install postgresql libpq-dev postgresql-client
pi@raspberrypi:~ $ sudo su postgres

postgres@raspberrypi:/home/pi$ psql
psql (9.4.15)
Type "help" for help.

postgres=# create database automacaozdb;
CREATE DATABASE

ctrl+d para sair do psql
postgres@raspberrypi:/home/pi$ psql automacaozdb

postgres=# create schema azschema;
CREATE SCHEMA
postgres=# create user "azdbuser" with password 'normal fraco';
CREATE ROLE
postgres=# grant usage on schema azschema to azdbuser;
postgres=# grant all privileges on all tables in schema azschema to azdbuser;
postgres=# grant usage, select on all sequences in schema azschema to azdbuser;





Libpqxx - Lib C++ oficial pra postgresql
wget http://pqxx.org/download/software/libpqxx/libpqxx-4.0.tar.gz
tar xvfz libpqxx-4.0.tar.gz
cd libpqxx-4.0
./configure
make
sudo make install

Alterar o pg_hba.conf pra 
# IPv4 local connections:
host    all         all         127.0.0.1/32          md5

No caso, já estava alterado.

Incluir no /etc/postgresql/9.5/main/pg_hba.conf
local   automacaozdb         azdbuser                 password


ObS: NÃO USAR O MODO 'PASSWORD' SE A CONEXÃO FOR VIA INTERNET

Depois restarta o postgresql
sudo service postgresql restart





POstgres no virtualbox


CREATE SEQUENCE azschema.aztb030_actionbutton_id_actionbutton_seq;

CREATE TABLE azschema.AZTB030_actionButton (
                no_action VARCHAR(50) NOT NULL,
                seq_action INTEGER NOT NULL,
                id_actionButton INTEGER NOT NULL DEFAULT nextval('azschema.aztb030_actionbutton_id_actionbutton_seq'),
                json_action VARCHAR NOT NULL,
                CONSTRAINT id_actionbutton PRIMARY KEY (no_action, seq_action)
);
COMMENT ON TABLE azschema.AZTB030_actionButton IS 'Dados de um ActionButton';
COMMENT ON COLUMN azschema.AZTB030_actionButton.seq_action IS 'Sequencia da ação dentro do action button';
COMMENT ON COLUMN azschema.AZTB030_actionButton.id_actionButton IS 'Identificador único do Action Button';
COMMENT ON COLUMN azschema.AZTB030_actionButton.json_action IS 'Json contendo cada ação, identificada pelo nome e o sequencial';


ALTER SEQUENCE azschema.aztb030_actionbutton_id_actionbutton_seq OWNED BY azschema.AZTB030_actionButton.id_actionButton;

CREATE INDEX aztb030_actionbutton_idx
 ON azschema.AZTB030_actionButton
 ( no_action ASC, seq_action ASC );



################################################################

CREATE SEQUENCE azschema.aztb032_actionbutton_id_actionbutton_seq_1;

CREATE TABLE azschema.AZTB032_actionButton (
                no_action VARCHAR NOT NULL,
                id_actionButton INTEGER NOT NULL DEFAULT nextval('azschema.aztb032_actionbutton_id_actionbutton_seq_1'),
                CONSTRAINT id_actionbutton PRIMARY KEY (no_action)
);
COMMENT ON TABLE azschema.AZTB032_actionButton IS 'Armazena dados de cada ActionButton';
COMMENT ON COLUMN azschema.AZTB032_actionButton.no_action IS 'Nome da Acao';
COMMENT ON COLUMN azschema.AZTB032_actionButton.id_actionButton IS 'Identificador unico de cada ActionButton';


ALTER SEQUENCE azschema.aztb032_actionbutton_id_actionbutton_seq_1 OWNED BY azschema.AZTB032_actionButton.id_actionButton;

CREATE SEQUENCE azschema.aztb040_recurringaction_id_recurringaction_seq;

CREATE TABLE azschema.AZTB040_recurringAction (
                no_recurringAction VARCHAR NOT NULL,
                ts_execution TIMESTAMP NOT NULL,
                bl_executed BOOLEAN NOT NULL,
                id_recurringAction INTEGER NOT NULL DEFAULT nextval('azschema.aztb040_recurringaction_id_recurringaction_seq'),
                no_action VARCHAR NOT NULL,
                CONSTRAINT no_recurringaction PRIMARY KEY (no_recurringAction)
);
COMMENT ON TABLE azschema.AZTB040_recurringAction IS 'Armazena dados de cada RecurringAction';
COMMENT ON COLUMN azschema.AZTB040_recurringAction.no_recurringAction IS 'Nome da Recurring Action';
COMMENT ON COLUMN azschema.AZTB040_recurringAction.ts_execution IS 'Timestamp de execução da RecurringAction';
COMMENT ON COLUMN azschema.AZTB040_recurringAction.bl_executed IS 'Boolean indicando se a ação já foi executada ou não';
COMMENT ON COLUMN azschema.AZTB040_recurringAction.id_recurringAction IS 'Identificador único de cada RecurringAction';
COMMENT ON COLUMN azschema.AZTB040_recurringAction.no_action IS 'Nome da Acao';


ALTER SEQUENCE azschema.aztb040_recurringaction_id_recurringaction_seq OWNED BY azschema.AZTB040_recurringAction.id_recurringAction;

CREATE SEQUENCE azschema.aztb031_jsontask_id_jsontask_seq;

CREATE TABLE azschema.AZTB031_jsonTask (
                id_jsonTask INTEGER NOT NULL DEFAULT nextval('azschema.aztb031_jsontask_id_jsontask_seq'),
                json_task VARCHAR NOT NULL,
                nu_seq INTEGER NOT NULL,
                no_action VARCHAR NOT NULL,
                CONSTRAINT json PRIMARY KEY (id_jsonTask)
);
COMMENT ON TABLE azschema.AZTB031_jsonTask IS 'Armazena cada Task de um ActionButton';
COMMENT ON COLUMN azschema.AZTB031_jsonTask.id_jsonTask IS 'Identificador unico desta Task';
COMMENT ON COLUMN azschema.AZTB031_jsonTask.json_task IS 'String Json com a Task a ser executada';
COMMENT ON COLUMN azschema.AZTB031_jsonTask.nu_seq IS 'Sequencial indicando qual a ordem de execucao desta Task no ActionButton';
COMMENT ON COLUMN azschema.AZTB031_jsonTask.no_action IS 'Nome da Acao';


ALTER SEQUENCE azschema.aztb031_jsontask_id_jsontask_seq OWNED BY azschema.AZTB031_jsonTask.id_jsonTask;

CREATE SEQUENCE azschema.aztb030_actionbutton_id_actionbutton_seq;

CREATE TABLE azschema.AZTB030_actionButton (
                no_action VARCHAR(50) NOT NULL,
                seq_action INTEGER NOT NULL,
                id_actionButton INTEGER NOT NULL DEFAULT nextval('azschema.aztb030_actionbutton_id_actionbutton_seq'),
                json_action VARCHAR NOT NULL,
                CONSTRAINT id_actionbutton PRIMARY KEY (no_action, seq_action)
);
COMMENT ON TABLE azschema.AZTB030_actionButton IS 'Dados de um ActionButton';
COMMENT ON COLUMN azschema.AZTB030_actionButton.seq_action IS 'Sequencia da ação dentro do action button';
COMMENT ON COLUMN azschema.AZTB030_actionButton.id_actionButton IS 'Identificador único do Action Button';
COMMENT ON COLUMN azschema.AZTB030_actionButton.json_action IS 'Json contendo cada ação, identificada pelo nome e o sequencial';


ALTER SEQUENCE azschema.aztb030_actionbutton_id_actionbutton_seq OWNED BY azschema.AZTB030_actionButton.id_actionButton;

CREATE INDEX aztb030_actionbutton_idx
 ON azschema.AZTB030_actionButton
 ( no_action ASC, seq_action ASC );

ALTER TABLE azschema.AZTB031_jsonTask ADD CONSTRAINT aztb031_actionbutton_aztb031_jsonaction_fk
FOREIGN KEY (no_action)
REFERENCES azschema.AZTB032_actionButton (no_action)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE azschema.AZTB040_recurringAction ADD CONSTRAINT aztb032_actionbutton_aztb040_recurringaction_fk
FOREIGN KEY (no_action)
REFERENCES azschema.AZTB032_actionButton (no_action)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;